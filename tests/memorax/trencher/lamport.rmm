forbidden
CS CS CS

data
  x  = * : [0:3]
  y  = * : [0:3]

process
registers
  $rx = * : [0:3]
  $ry = * : [0:3]
text
  L0: write: x := 1;
      read: $ry := y;
      if $ry != 0 then 
        goto L0;
      write: y := 1;
      read: $rx := x;
      if $rx != 1 then {
        read: $ry := y;
        if $ry != 1 then
          goto L0
      };
      goto CS;
  CS: 
      write: y := 0

process
registers
  $rx = * : [0:3]
  $ry = * : [0:3]
text
  L0: write: x := 2;
      read: $ry := y;
      if $ry != 0 then
        goto L0;
      write: y := 2;
      read: $rx := x;
      if $rx != 2 then {
        read: $ry := y;
        if $ry != 2 then
          goto L0
      };
      goto CS;
  CS:
      write: y := 0

process
registers
  $rx = * : [0:3]
  $ry = * : [0:3]
text
  L0: write: x := 3;
      read: $ry := y;
      if $ry != 0 then
        goto L0;
      write: y := 3;
      read: $rx := x;
      if $rx != 3 then {
        read: $ry := y;
        if $ry != 3 then
          goto L0
      };
      goto CS;
  CS:
      write: y := 0

