type t = A| B| C

array X[proc] : t
var Y : t 

init(i){X[i] = A && Y = A}

transition t0(i)
{ X[i] := B }

transition t1(i)
requires {X[i] = B && forall_other j. X[j] = A}
{  Y := C } 